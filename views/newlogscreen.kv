#:import hex kivy.utils.get_color_from_hex

<Label>
    font_name: 'fonts/Poppins-Regular.ttf'
    color: hex('#32270B')

<Button>
    background_normal: ''
    background_down: ''
    color: hex('#FDFDFD')

<TextInput>
    multiline: False
    background_normal: 'Blank-White-square-thumbnail.jpg'
    background_active: 'Blank-White-square-thumbnail.jpg'
    font_name: "fonts/Poppins-Regular.ttf"
    font_size: ('12sp')
    foreground_color: hex('#32270B')
    padding: [16, 8]


<NewLogScreen@Screen>

    sign_up_username: sign_up_username
    sign_up_first_name: sign_up_first_name
    sign_up_last_name: sign_up_last_name
    sign_up_email: sign_up_email
    sign_up_password: sign_up_password
    sign_up_error: sign_up_error

    canvas:
        Color:
            rgba: hex('#FAF5E9')
        Rectangle:
            size: self.size
            pos: self.pos


    FloatLayout:
        size: root.width, root.height

        canvas:
            Rectangle:
                size: self.size
                pos: self.pos
                source: "img/background.png"

        BoxLayout:
            orientation: "vertical"
            size_hint: 0.8, 0.6
            pos_hint: {"x": 0, "top": 0.8}
            padding: 72

            canvas:
                Color:
                    rgba: hex('#FDFDFD')
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [0,48, 48, 0]

            ImageButton:
                source: 'img/Back.png'
                size_hint: (None, None)
                size: self.texture_size
                on_press: app.change_screen('login_screen')

            Label:
                text: "create\naccount"
                font_name: 'fonts/Poppins-Bold.ttf'
                font_size: ('36sp')
                halign: "left"
                line_height: 0.8
                size_hint: 1, 0.4
                text_size: self.size

            BoxLayout:
                orientation: "vertical"
                padding : [0, 48, 0, 0]
                spacing: 24
                size_hint: 1, 1

                BoxLayout:
                    orientation: "vertical"
                    padding: 12

                    canvas:
                        Color:
                            rgba: hex('#32270B')
                        Line:
                            rounded_rectangle:
                                (self.pos[0], self.pos[1], self.size[0], self.size[1], 32, 100)
                            width: 1.5

                    TextInput:
                        id: sign_up_username
                        cursor_color: hex('#32270B')
                        hint_text: "username"

                BoxLayout:
                    orientation: "horizontal"
                    spacing: 24

                    BoxLayout:
                        orientation: "vertical"
                        padding: 12

                        canvas:
                            Color:
                                rgba: hex('#32270B')
                            Line:
                                rounded_rectangle:
                                    (self.pos[0], self.pos[1], self.size[0], self.size[1], 32, 100)
                                width: 1.5

                        TextInput:
                            id: sign_up_first_name
                            cursor_color: hex('#32270B')
                            hint_text: "first name"

                    BoxLayout:
                        orientation: "vertical"
                        padding: 12

                        canvas:
                            Color:
                                rgba: hex('#32270B')
                            Line:
                                rounded_rectangle:
                                    (self.pos[0], self.pos[1], self.size[0], self.size[1], 32, 100)
                                width: 1.5

                        TextInput:
                            id: sign_up_last_name
                            cursor_color: hex('#32270B')
                            hint_text: "last name"

                BoxLayout:
                    orientation: "vertical"
                    padding: 12

                    canvas:
                        Color:
                            rgba: hex('#32270B')
                        Line:
                            rounded_rectangle:
                                (self.pos[0], self.pos[1], self.size[0], self.size[1], 32, 100)
                            width: 1.5

                    TextInput:
                        id: sign_up_email
                        cursor_color: hex('#32270B')
                        hint_text: "email"

                BoxLayout:
                    orientation: "vertical"
                    padding: 12

                    canvas:
                        Color:
                            rgba: hex('#32270B')
                        Line:
                            rounded_rectangle:
                                (self.pos[0], self.pos[1], self.size[0], self.size[1], 32, 100)
                            width: 1.5

                    TextInput:
                        id: sign_up_password
                        cursor_color: hex('#32270B')
                        hint_text: "password"

                Label:
                    id: sign_up_error
                    text: ''
                    color: hex('#C7444A')
                    font_size: ('10sp')
                    size_hint: 1, 0.4
                    text_size: self.size
                    halign: 'left'
                    valign: 'top'
                    pos_hint: {"x": 0.05}

            RoundedButton:
                back_color: hex('#32270B')
                color: hex('#FDFDFD')
                border_radius: [32]
                text: "sign up"
                font_size: ('14sp')
                font_name: 'fonts/Poppins-SemiBold.ttf'
                size_hint: 0.32, 0.15
                pos_hint: {'right': 1}
                on_press:
                    app.auth.sign_up(sign_up_username.text, sign_up_first_name.text, sign_up_last_name.text, sign_up_email.text, sign_up_password.text)
